--------------------------------------------------------
--  DDL for Table SYSTEM_CONFIG
--------------------------------------------------------

  CREATE TABLE "HR"."SYSTEM_CONFIG" 
   (	"ID" NUMBER, 
	"SYSTEM_NAME" VARCHAR2(50 BYTE), 
	"SYSTEM_TYPE" VARCHAR2(20 BYTE), 
	"CONNECTION_CONFIG" CLOB, 
	"IS_ACTIVE" CHAR(1 BYTE) DEFAULT 'Y', 
	"CREATED_AT" TIMESTAMP (6) DEFAULT SYSTIMESTAMP
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("CONNECTION_CONFIG") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "HR"."SYSTEM_CONFIG"."CONNECTION_CONFIG" IS 'JSON formatted connection parameters';
   COMMENT ON TABLE "HR"."SYSTEM_CONFIG"  IS 'Stores connection details for all source and target systems';
REM INSERTING into HR.SYSTEM_CONFIG
SET DEFINE OFF;
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (1,'ORACLE_DW','ORACLE','Y',to_timestamp('24-03-25 06:04:06.868000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (2,'MYSQL_ERP','JDBC','Y',to_timestamp('24-03-25 06:04:06.882000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (3,'SALES_API','API','Y',to_timestamp('24-03-25 06:04:06.887000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (4,'LOG_STREAM','KAFKA','Y',to_timestamp('24-03-25 06:04:06.892000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (5,'ORACLE_ERP','ORACLE','Y',to_timestamp('24-03-25 06:04:18.554000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
Insert into HR.SYSTEM_CONFIG (ID,SYSTEM_NAME,SYSTEM_TYPE,IS_ACTIVE,CREATED_AT) values (11,'ORACLE_HR','ORACLE','Y',to_timestamp('24-03-25 06:13:11.908000000 PM','DD-MM-RR HH12:MI:SS.FF AM'));
--------------------------------------------------------
--  DDL for Index SYS_C0010701
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010701" ON "HR"."SYSTEM_CONFIG" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C0010702
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010702" ON "HR"."SYSTEM_CONFIG" ("SYSTEM_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table SYSTEM_CONFIG
--------------------------------------------------------

  ALTER TABLE "HR"."SYSTEM_CONFIG" ADD UNIQUE ("SYSTEM_NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SYSTEM_CONFIG" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SYSTEM_CONFIG" ADD CHECK (IS_ACTIVE IN ('Y','N')) ENABLE;
  ALTER TABLE "HR"."SYSTEM_CONFIG" MODIFY ("CONNECTION_CONFIG" NOT NULL ENABLE);
  ALTER TABLE "HR"."SYSTEM_CONFIG" MODIFY ("SYSTEM_TYPE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SYSTEM_CONFIG" MODIFY ("SYSTEM_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  DDL for Trigger SYSTEM_CONFIG_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HR"."SYSTEM_CONFIG_TRG" 
BEFORE INSERT ON SYSTEM_CONFIG
FOR EACH ROW
BEGIN
    :new.ID := system_config_seq.nextval;
END;
/
ALTER TRIGGER "HR"."SYSTEM_CONFIG_TRG" ENABLE;




--------------------------------------------------------
--  DDL for Table SERVICE_GROUP_CONFIG
--------------------------------------------------------

  CREATE TABLE "HR"."SERVICE_GROUP_CONFIG" 
   (	"ID" NUMBER, 
	"GROUP_NAME" VARCHAR2(50 BYTE), 
	"SOURCE_SYSTEM_ID" NUMBER, 
	"TARGET_SYSTEM_ID" NUMBER, 
	"SCHEDULE_CRON" VARCHAR2(20 BYTE), 
	"LAST_EXECUTION" TIMESTAMP (6), 
	"IS_RUNNING" CHAR(1 BYTE) DEFAULT 'N'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON TABLE "HR"."SERVICE_GROUP_CONFIG"  IS 'Groups of ETL processes between source and target systems';
REM INSERTING into HR.SERVICE_GROUP_CONFIG
SET DEFINE OFF;
Insert into HR.SERVICE_GROUP_CONFIG (ID,GROUP_NAME,SOURCE_SYSTEM_ID,TARGET_SYSTEM_ID,SCHEDULE_CRON,LAST_EXECUTION,IS_RUNNING) values (1,'NIGHTLY_ETL',2,1,'0 0 * * *',null,'N');
Insert into HR.SERVICE_GROUP_CONFIG (ID,GROUP_NAME,SOURCE_SYSTEM_ID,TARGET_SYSTEM_ID,SCHEDULE_CRON,LAST_EXECUTION,IS_RUNNING) values (2,'REALTIME_STREAMS',4,1,'*/5 * * * *',null,'N');
Insert into HR.SERVICE_GROUP_CONFIG (ID,GROUP_NAME,SOURCE_SYSTEM_ID,TARGET_SYSTEM_ID,SCHEDULE_CRON,LAST_EXECUTION,IS_RUNNING) values (3,'HR_TO_HR',11,11,'0 0 * * *',to_timestamp('27-03-25 09:53:07.000000000 AM','DD-MM-RR HH12:MI:SS.FF AM'),'N');
--------------------------------------------------------
--  DDL for Index SYS_C0010708
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010708" ON "HR"."SERVICE_GROUP_CONFIG" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C0010709
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010709" ON "HR"."SERVICE_GROUP_CONFIG" ("GROUP_NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table SERVICE_GROUP_CONFIG
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" ADD UNIQUE ("GROUP_NAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" ADD CHECK (IS_RUNNING IN ('Y','N')) ENABLE;
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" MODIFY ("SCHEDULE_CRON" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" MODIFY ("TARGET_SYSTEM_ID" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" MODIFY ("SOURCE_SYSTEM_ID" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" MODIFY ("GROUP_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table SERVICE_GROUP_CONFIG
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" ADD FOREIGN KEY ("SOURCE_SYSTEM_ID")
	  REFERENCES "HR"."SYSTEM_CONFIG" ("ID") ENABLE;
  ALTER TABLE "HR"."SERVICE_GROUP_CONFIG" ADD FOREIGN KEY ("TARGET_SYSTEM_ID")
	  REFERENCES "HR"."SYSTEM_CONFIG" ("ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger SERVICE_GROUP_CONFIG_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HR"."SERVICE_GROUP_CONFIG_TRG" 
BEFORE INSERT ON service_group_config
FOR EACH ROW
BEGIN
    :new.ID := service_group_seq.nextval;
END;
/
ALTER TRIGGER "HR"."SERVICE_GROUP_CONFIG_TRG" ENABLE;




--------------------------------------------------------
--  DDL for Table SERVICE_DETAIL_CONFIG
--------------------------------------------------------

  CREATE TABLE "HR"."SERVICE_DETAIL_CONFIG" 
   (	"ID" NUMBER, 
	"GROUP_ID" NUMBER, 
	"SOURCE_TYPE" VARCHAR2(20 BYTE), 
	"SOURCE_DATA_TYPE" VARCHAR2(10 BYTE), 
	"EXTRACTION_QUERY" CLOB, 
	"DESTINATION_TABLE" VARCHAR2(30 BYTE), 
	"TARGET_TRUNCATE" CHAR(1 BYTE) DEFAULT 'N', 
	"TRIM_COL_LIST" VARCHAR2(4000 BYTE), 
	"PROCESS_ORDER" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("EXTRACTION_QUERY") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "HR"."SERVICE_DETAIL_CONFIG"."TRIM_COL_LIST" IS 'JSON array of columns to trim whitespace';
REM INSERTING into HR.SERVICE_DETAIL_CONFIG
SET DEFINE OFF;
Insert into HR.SERVICE_DETAIL_CONFIG (ID,GROUP_ID,SOURCE_TYPE,SOURCE_DATA_TYPE,DESTINATION_TABLE,TARGET_TRUNCATE,TRIM_COL_LIST,PROCESS_ORDER) values (1,1,'DATABASE','TABLE','STG_ORDERS','N',null,1);
Insert into HR.SERVICE_DETAIL_CONFIG (ID,GROUP_ID,SOURCE_TYPE,SOURCE_DATA_TYPE,DESTINATION_TABLE,TARGET_TRUNCATE,TRIM_COL_LIST,PROCESS_ORDER) values (2,1,'API','JSON','DIM_CUSTOMERS','Y',null,2);
Insert into HR.SERVICE_DETAIL_CONFIG (ID,GROUP_ID,SOURCE_TYPE,SOURCE_DATA_TYPE,DESTINATION_TABLE,TARGET_TRUNCATE,TRIM_COL_LIST,PROCESS_ORDER) values (3,2,'KAFKA','CSV','SERVER_LOGS','N','["hostname", "message"]',1);
Insert into HR.SERVICE_DETAIL_CONFIG (ID,GROUP_ID,SOURCE_TYPE,SOURCE_DATA_TYPE,DESTINATION_TABLE,TARGET_TRUNCATE,TRIM_COL_LIST,PROCESS_ORDER) values (9,3,'ORACLE','TABLE','temp_emp','Y','[{"first_name","email"}]',1);
--------------------------------------------------------
--  DDL for Index SYS_C0010719
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010719" ON "HR"."SERVICE_DETAIL_CONFIG" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table SERVICE_DETAIL_CONFIG
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" ADD CHECK (TARGET_TRUNCATE IN ('Y','N')) ENABLE;
  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" MODIFY ("PROCESS_ORDER" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" MODIFY ("DESTINATION_TABLE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" MODIFY ("SOURCE_TYPE" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" MODIFY ("GROUP_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table SERVICE_DETAIL_CONFIG
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_DETAIL_CONFIG" ADD FOREIGN KEY ("GROUP_ID")
	  REFERENCES "HR"."SERVICE_GROUP_CONFIG" ("ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger SERVICE_DETAIL_CONFIG_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HR"."SERVICE_DETAIL_CONFIG_TRG" 
BEFORE INSERT ON service_detail_config
FOR EACH ROW
BEGIN
    :new.ID := service_detail_seq.nextval;
END;
/
ALTER TRIGGER "HR"."SERVICE_DETAIL_CONFIG_TRG" ENABLE;



--------------------------------------------------------
--  DDL for Table SERVICE_COLUMN_MAPPING
--------------------------------------------------------

  CREATE TABLE "HR"."SERVICE_COLUMN_MAPPING" 
   (	"ID" NUMBER, 
	"SERVICE_DETAIL_ID" NUMBER, 
	"SOURCE_PATH" VARCHAR2(400 BYTE), 
	"DESTINATION_COLUMN" VARCHAR2(30 BYTE), 
	"DATA_TYPE" VARCHAR2(20 BYTE), 
	"TRANSFORMATION" VARCHAR2(50 BYTE), 
	"PROCESS_ORDER" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into HR.SERVICE_COLUMN_MAPPING
SET DEFINE OFF;
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (1,1,'order_id','ORDER_ID','NUMBER',null,1);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (2,1,'customer','CUSTOMER_NAME',null,'UPPERCASE',2);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (3,2,'$.customer.id','CUST_ID','VARCHAR2(20)',null,1);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (4,2,'$.address.city','CITY',null,'TRIM',2);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (5,3,'timestamp','LOG_TS','TIMESTAMP',null,1);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (6,3,'error_code','ERR_CODE','NUMBER',null,2);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (7,9,'employee_id','employee_id','NUMBER',null,1);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (8,9,'last_name','first_name','NUMBER','TRIM',2);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (9,9,'email','email','NUMBER','UPPERCASE',3);
Insert into HR.SERVICE_COLUMN_MAPPING (ID,SERVICE_DETAIL_ID,SOURCE_PATH,DESTINATION_COLUMN,DATA_TYPE,TRANSFORMATION,PROCESS_ORDER) values (10,9,'salary','salary','NUMBER',null,4);
--------------------------------------------------------
--  DDL for Index SYS_C0010725
--------------------------------------------------------

  CREATE UNIQUE INDEX "HR"."SYS_C0010725" ON "HR"."SERVICE_COLUMN_MAPPING" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table SERVICE_COLUMN_MAPPING
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" MODIFY ("PROCESS_ORDER" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" MODIFY ("DESTINATION_COLUMN" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" MODIFY ("SOURCE_PATH" NOT NULL ENABLE);
  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" MODIFY ("SERVICE_DETAIL_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Ref Constraints for Table SERVICE_COLUMN_MAPPING
--------------------------------------------------------

  ALTER TABLE "HR"."SERVICE_COLUMN_MAPPING" ADD FOREIGN KEY ("SERVICE_DETAIL_ID")
	  REFERENCES "HR"."SERVICE_DETAIL_CONFIG" ("ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger SERVICE_COLUMN_MAPPING_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HR"."SERVICE_COLUMN_MAPPING_TRG" 
BEFORE INSERT ON service_column_mapping
FOR EACH ROW
BEGIN
    :new.ID := column_mapping_seq.nextval;
END;
/
ALTER TRIGGER "HR"."SERVICE_COLUMN_MAPPING_TRG" ENABLE;
